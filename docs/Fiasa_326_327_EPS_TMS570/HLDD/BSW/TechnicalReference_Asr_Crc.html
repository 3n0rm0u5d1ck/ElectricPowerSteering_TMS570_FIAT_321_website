---
layout: default
title: TechnicalReference_Asr_Crc
nav_order: 13
parent: Fiasa_326_327_EPS_TMS570
---
{% raw %}
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
     "http://www.w3.org/TR/html4/transitional.dtd">
<html>
<head>

  <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
  <title></title>
  <meta name="generator" content="LibreOffice 24.2.7.2 (Linux)"/>
  <meta name="created" content="00:00:00"/>
  <meta name="changed" content="00:00:00"/>
</head>
<body>
<h1></h1>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>MICROSAR CRC </b></p>
<p>Technical Reference </p>
<p> </p>
<p> </p>
<p>Version 4.00.00 </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>Authors </p>
<p>Claudia Mausz </p>
<p>Status </p>
<p>Released </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>2 / 24</p>
<p><b>1 </b></p>
<p><b>Document Information </b></p>
<p><b>1.1 </b></p>
<p><b>History </b></p>
<p><b>Author </b></p>
<p><b>Date </b></p>
<p><b>Version </b></p>
<p><b>Remarks </b></p>
<p>Tobias Schmid </p>
<p>13-12-2006 </p>
<p>1.0 </p>
<p>Initial Version </p>
<p>Tobias Schmid </p>
<p>21-01-2008 </p>
<p>3.00.00 </p>
<p>Update to ASR 2.1 </p>
<p>Changed versioning to new </p>
<p>notation </p>
<p>Claudia Mausz </p>
<p>19-05-2008 </p>
<p>4.00.00 </p>
<p>Update to ASR3.0.0 </p>
<p>Add Crc8 calculation </p>
<p>Table 1-1   History of the document </p>
<p><b>1.2 </b></p>
<p><b>Reference Documents </b></p>
<p><b>No. </b></p>
<p><b>Title </b></p>
<p><b>Version </b></p>
<p>[1] </p>
<p> </p>
<p>AUTOSAR_SWS_CRC_Routines.pdf </p>
<p>V3.0 Rev </p>
<p>0002 </p>
<p>[2] </p>
<p> </p>
<p>AUTOSAR_BasicSoftwareModules.pdf </p>
<p>V1.2.0 </p>
<p>Table 1-2   Reference documents </p>
<p> </p>
<p><b>1.1 </b></p>
<p><b>Scope of the Document  </b></p>
<p>This technical reference describes the general use of the CRC driver basis software. There </p>
<p>are no aspects which are controller specific. </p>
<p> </p>
<p> </p>
<p><b>Please note </b></p>
<p>We have configured the programs in accordance with your specifications in the </p>
<p>questionnaire. Whereas the programs do support other configurations than the one </p>
<p>specified in your questionnaire, Vector’s release of the programs delivered to your </p>
<p>company is expressly restricted to the configuration you have specified in the </p>
<p>questionnaire. </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>3 / 24</p>
<p><b>Contents </b></p>
<p><b>1</b></p>
<p> </p>
<p><b>Document Information.................................................................................................... 2</b></p>
<p> </p>
<p>1.1</p>
<p> </p>
<p>History............................................................................................................... 2</p>
<p> </p>
<p>1.2</p>
<p> </p>
<p>Reference Documents ...................................................................................... 2</p>
<p> </p>
<p>1.1</p>
<p> </p>
<p>Scope of the Document .................................................................................... 2</p>
<p> </p>
<p><b>2</b></p>
<p> </p>
<p><b>Component History......................................................................................................... 6</b></p>
<p> </p>
<p><b>3</b></p>
<p> </p>
<p><b>Introduction ..................................................................................................................... 7</b></p>
<p> </p>
<p>3.1</p>
<p> </p>
<p>Architecture Overview....................................................................................... 8</p>
<p> </p>
<p><b>4</b></p>
<p> </p>
<p><b>Functional Description ................................................................................................... 9</b></p>
<p> </p>
<p>4.1</p>
<p> </p>
<p>Features............................................................................................................ 9</p>
<p> </p>
<p>4.2</p>
<p> </p>
<p>Initialization ....................................................................................................... 9</p>
<p> </p>
<p>4.3</p>
<p> </p>
<p>States ................................................................................................................ 9</p>
<p> </p>
<p>4.4</p>
<p> </p>
<p>Main Functions ................................................................................................. 9</p>
<p> </p>
<p>4.5</p>
<p> </p>
<p>Error Handling................................................................................................. 10</p>
<p> </p>
<p>4.5.1</p>
<p> </p>
<p>Development Error Reporting ......................................................................... 10</p>
<p> </p>
<p>4.5.1.1</p>
<p> </p>
<p>Parameter Checking ....................................................................................... 10</p>
<p> </p>
<p>4.5.2</p>
<p> </p>
<p>Production Code Error Reporting ................................................................... 10</p>
<p> </p>
<p>4.5.2.1</p>
<p> </p>
<p>Parameter Checking ....................................................................................... 10</p>
<p> </p>
<p><b>5</b></p>
<p> </p>
<p><b>Integration ..................................................................................................................... 11</b></p>
<p> </p>
<p>5.1</p>
<p> </p>
<p>Scope of Delivery.............................................................................................11</p>
<p> </p>
<p>5.1.1</p>
<p> </p>
<p>Static Files .......................................................................................................11</p>
<p> </p>
<p>5.1.2</p>
<p> </p>
<p>Dynamic Files ..................................................................................................11</p>
<p> </p>
<p>5.2</p>
<p> </p>
<p>Include Structure..............................................................................................11</p>
<p> </p>
<p>5.3</p>
<p> </p>
<p>Compiler Abstraction and Memory Mapping................................................... 12</p>
<p> </p>
<p><b>6</b></p>
<p> </p>
<p><b>API Description ............................................................................................................. 13</b></p>
<p> </p>
<p>6.1</p>
<p> </p>
<p>Type Definitions .............................................................................................. 13</p>
<p> </p>
<p>6.2</p>
<p> </p>
<p>Interrupt Service Routines provided by CRC.................................................. 13</p>
<p> </p>
<p>6.3</p>
<p> </p>
<p>Services provided by CRC.............................................................................. 13</p>
<p> </p>
<p>6.3.1</p>
<p> </p>
<p>Crc_CalculateCRC8 ....................................................................................... 14</p>
<p> </p>
<p>6.3.2</p>
<p> </p>
<p>Crc_CalculateCRC16 ..................................................................................... 15</p>
<p> </p>
<p>6.3.3</p>
<p> </p>
<p>Crc_CalculateCRC32 ..................................................................................... 16</p>
<p> </p>
<p>6.3.4</p>
<p> </p>
<p>Crc_GetVersionInfo ........................................................................................ 17</p>
<p> </p>
<p>6.4</p>
<p> </p>
<p>Services used by CRC.................................................................................... 17</p>
<p> </p>
<p>6.5</p>
<p> </p>
<p>Callback Functions ......................................................................................... 17</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>4 / 24</p>
<p>6.6</p>
<p> </p>
<p>Configurable Interfaces................................................................................... 17</p>
<p> </p>
<p>6.6.1</p>
<p> </p>
<p>Notifications .................................................................................................... 17</p>
<p> </p>
<p>6.6.2</p>
<p> </p>
<p>Callout Functions ............................................................................................ 17</p>
<p> </p>
<p>6.7</p>
<p> </p>
<p>Service Ports .................................................................................................. 17</p>
<p> </p>
<p><b>7</b></p>
<p> </p>
<p><b>Configuration ................................................................................................................ 19</b></p>
<p> </p>
<p>7.1</p>
<p> </p>
<p>Configuration with EAD................................................................................... 19</p>
<p> </p>
<p>7.1.1</p>
<p> </p>
<p>Start configuration of the CRC ........................................................................ 19</p>
<p> </p>
<p>7.1.2</p>
<p> </p>
<p>CRC configuration tab..................................................................................... 19</p>
<p> </p>
<p>7.1.2.1</p>
<p> </p>
<p>General Settings ............................................................................................. 19</p>
<p> </p>
<p>7.1.2.2</p>
<p> </p>
<p>Module API ..................................................................................................... 20</p>
<p> </p>
<p><b>8</b></p>
<p> </p>
<p><b>AUTOSAR Standard Compliance................................................................................. 22</b></p>
<p> </p>
<p>8.1</p>
<p> </p>
<p>Deviations ....................................................................................................... 22</p>
<p> </p>
<p>8.2</p>
<p> </p>
<p>Additions/ Extensions ..................................................................................... 22</p>
<p> </p>
<p>8.3</p>
<p> </p>
<p>Limitations....................................................................................................... 22</p>
<p> </p>
<p><b>9</b></p>
<p> </p>
<p><b>Glossary and Abbreviations ........................................................................................ 23</b></p>
<p> </p>
<p>9.1</p>
<p> </p>
<p>Glossary.......................................................................................................... 23</p>
<p> </p>
<p>9.2</p>
<p> </p>
<p>Abbreviations .................................................................................................. 23</p>
<p> </p>
<p><b>10</b></p>
<p> </p>
<p><b>Contact ........................................................................................................................... 24</b></p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>5 / 24</p>
<p><b>Illustrations </b></p>
<p>Figure 3-1</p>
<p> </p>
<p>AUTOSAR architecture..................................................................................... 8</p>
<p> </p>
<p>Figure 5-1</p>
<p> </p>
<p>Include structure ..............................................................................................11</p>
<p> </p>
<p>Figure 7-1</p>
<p> </p>
<p>EAD Configuration – General Settings ........................................................... 19</p>
<p> </p>
<p>Figure 7-2</p>
<p> </p>
<p>EAD Configuration – Module API.................................................................... 20</p>
<p> </p>
<p><b> </b></p>
<p><b>Tables </b></p>
<p>Table 1-1 </p>
<p> </p>
<p>History of the document.................................................................................... 2</p>
<p> </p>
<p>Table 1-2 </p>
<p> </p>
<p>Reference documents....................................................................................... 2</p>
<p> </p>
<p>Table 2-1 </p>
<p> </p>
<p>Component history............................................................................................ 6</p>
<p> </p>
<p>Table 4-1 </p>
<p> </p>
<p>Supported SWS features .................................................................................. 9</p>
<p> </p>
<p>Table 4-2 </p>
<p> </p>
<p>Not supported SWS features ............................................................................ 9</p>
<p> </p>
<p>Table 5-1 </p>
<p> </p>
<p>Static files.........................................................................................................11</p>
<p> </p>
<p>Table 5-2 </p>
<p> </p>
<p>Generated files ................................................................................................11</p>
<p> </p>
<p>Table 5-3 </p>
<p> </p>
<p>Compiler abstraction and memory mapping ................................................... 12</p>
<p> </p>
<p>Table 6-1 </p>
<p> </p>
<p>Type definitions............................................................................................... 13</p>
<p> </p>
<p>Table 6-2 </p>
<p> </p>
<p>Std_VersionInfoType ....................................................................................... 13</p>
<p> </p>
<p>Table 6-3 </p>
<p> </p>
<p>Crc_CalculateCRC8 ....................................................................................... 14</p>
<p> </p>
<p>Table 6-4 </p>
<p> </p>
<p>Crc_CalculateCRC16 ..................................................................................... 15</p>
<p> </p>
<p>Table 6-5 </p>
<p> </p>
<p>Crc_CalculateCRC32 ..................................................................................... 16</p>
<p> </p>
<p>Table 6-6 </p>
<p> </p>
<p>Crc_GetVersionInfo ........................................................................................ 17</p>
<p> </p>
<p>Table 7-1 </p>
<p> </p>
<p>EAD Configuration – General Settings ........................................................... 20</p>
<p> </p>
<p>Table 7-2 </p>
<p> </p>
<p>EAD Configuration – Module API.................................................................... 21</p>
<p> </p>
<p>Table 9-1 </p>
<p> </p>
<p>Glossary.......................................................................................................... 23</p>
<p> </p>
<p>Table 9-2 </p>
<p> </p>
<p>Abbreviations .................................................................................................. 23</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>6 / 24</p>
<p><b>2 </b></p>
<p><b>Component History </b></p>
<p>The </p>
<p>component </p>
<p>history </p>
<p>gives </p>
<p>an </p>
<p>overview </p>
<p>over </p>
<p>the </p>
<p>important </p>
<p>milestones, </p>
<p>that </p>
<p>are </p>
<p>supported in the different versions of the component.  </p>
<p><b>Component Version </b></p>
<p><b>New Features </b></p>
<p>04.00.00 </p>
<p>Update to AUTOSAR Version 3.0 </p>
<p>Add Crc8 calculation  </p>
<p>Table 2-1   Component history </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>7 / 24</p>
<p><b>3 </b></p>
<p><b>Introduction </b></p>
<p>This document describes the functionality, API and configuration of the AUTOSAR BSW </p>
<p>module CRC as specified in [1].  </p>
<p> </p>
<p><b>Supported AUTOSAR Release: </b></p>
<p>3.0 </p>
<p><b>Supported Configuration Variants: </b></p>
<p>pre-compile </p>
<p><b> </b></p>
<p> </p>
<p><b>Vendor ID: </b></p>
<p>CRC_VENDOR_ID </p>
<p>30 decimal </p>
<p>(= Vector-Informatik, </p>
<p>according to HIS) </p>
<p><b>Module ID: </b></p>
<p>CRC_MODULE_ID   </p>
<p>201 decimal </p>
<p>(according to ref. [2]) </p>
<p> </p>
<p>This component implements service functions in ANSI C for calculating CRC checksums. </p>
<p>The module allows pre-compile configuration of the calculation method, which is used to </p>
<p>compute  the  CRC  values.  The  three  possible  methods  are  table  based  or  runtime </p>
<p>calculation of CRC values. </p>
<p>There are three different CRC calculation services available: </p>
<p></p>
<p> </p>
<p>Checksum calculation of 8bit CRC value from a buffer, </p>
<p></p>
<p> </p>
<p>Checksum calculation of 16bit CRC value from a buffer, </p>
<p></p>
<p> </p>
<p>Checksum calculation of 32bit CRC value from a buffer. </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>8 / 24</p>
<p><b>3.1 </b></p>
<p><b>Architecture Overview </b></p>
<p>The following figure shows where the CRC is located in the AUTOSAR architecture. </p>
<p> </p>
<p>Figure 3-1 AUTOSAR architecture </p>
<p>No interface from other module is required. The CRC component is a service module. It </p>
<p>can be called from any module or application (e.g. NVRAM Manager). </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>9 / 24</p>
<p><b>4 </b></p>
<p><b>Functional Description </b></p>
<p><b>4.1 </b></p>
<p><b>Features </b></p>
<p>The features listed in this chapter cover the complete functionality specified in [1]. </p>
<p>The  &quot;supported&quot;  and  &quot;not  supported&quot;  features  are  presented  in  the  following  two  tables. </p>
<p>For further information of not supported features also see chapter 8. </p>
<p> </p>
<p>The following features described in [1] are supported: </p>
<p><b>Supported Feature </b></p>
<p>Crc8 calculation based on the SAE-J1850 CRC8 Standard  </p>
<p>Crc16 calculation based on the CCITT Standard  </p>
<p>Crc32 calculation based on the IEEE-802.3 Ethernet Standard  </p>
<p>For all CRC calculations following methods can be used:  </p>
<p></p>
<p> </p>
<p>Table based calculation: results in fast execution, but increases code size (ROM table)  </p>
<p></p>
<p> </p>
<p>Runtime calculation: results in smaller code size, but slower execution time </p>
<p>All routines are re-entrant and can be used by multiple applications at the same time. </p>
<p>Table 4-1   Supported SWS features </p>
<p>The following features described in [1] are not supported: </p>
<p><b>Not Supported Feature </b></p>
<p>None </p>
<p>Table 4-2   Not supported SWS features </p>
<p><b>4.2 </b></p>
<p><b>Initialization </b></p>
<p>No initialization is necessary. </p>
<p><b>4.3 </b></p>
<p><b>States </b></p>
<p>This component contains no state machine. </p>
<p><b>4.4 </b></p>
<p><b>Main Functions </b></p>
<p>This  component  has  no  main  function.  It  contains  only  the  routines  to  calculate  the </p>
<p>checksums. These API functions are called from the NVRAM Manager. </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>10 / 24</p>
<p><b>4.5 </b></p>
<p><b>Error Handling </b></p>
<p><b>4.5.1 </b></p>
<p><b>Development Error Reporting </b></p>
<p>Module CRC does not provide any development error detection mechanism.  </p>
<p><b> </b></p>
<p> </p>
<p><b>Info </b></p>
<p>CRC recalculation and comparison with original CRC values must be done by </p>
<p>the user itself (e.g. NVRAM Manager). </p>
<p><b> </b></p>
<p><b>4.5.1.1 </b></p>
<p><b>Parameter Checking  </b></p>
<p>Module CRC’s functions do not perform any checks.  </p>
<p><b>4.5.2 </b></p>
<p><b>Production Code Error Reporting </b></p>
<p>Module CRC does not provide any production error detection mechanism. </p>
<p><b>4.5.2.1 </b></p>
<p><b>Parameter Checking  </b></p>
<p>Module CRC’s functions do not perform any checks.  </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>11 / 24</p>
<p><b>5 </b></p>
<p><b>Integration </b></p>
<p>This chapter gives necessary information for the integration of the MICROSAR CRC into </p>
<p>an application environment of an ECU. </p>
<p><b>5.1 </b></p>
<p><b>Scope of Delivery </b></p>
<p>The delivery of the CRC contains the files which are described in the chapters 5.1.1 and </p>
<p>5.1.2: </p>
<p><b>5.1.1 </b></p>
<p><b>Static Files </b></p>
<p><b>File Name </b></p>
<p><b>Description </b></p>
<p>Crc.c </p>
<p>Implementation of the CRC routines.</p>
<p> </p>
<p>Crc.h </p>
<p>Header files of the CRC routines. </p>
<p>Table 5-1   Static files </p>
<p> </p>
<p><b>5.1.2 </b></p>
<p><b>Dynamic Files </b></p>
<p>The dynamic files are generated by the configuration tool EAD. </p>
<p><b>File Name </b></p>
<p><b>Description </b></p>
<p>Crc_Cfg.h </p>
<p>Configuration of the calculation method. </p>
<p>Table 5-2   Generated files </p>
<p> </p>
<p><b>5.2 </b></p>
<p><b>Include Structure </b></p>
<p><b>cmp Component View</b></p>
<p>Crc.h</p>
<p>Crc.c</p>
<p>Crc_Cfg.h</p>
<p>application / other BSW module</p>
<p>«include»</p>
<p>«include»</p>
<p>«use»</p>
<p> </p>
<p>Figure 5-1 Include structure </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>12 / 24</p>
<p><b>5.3 </b></p>
<p><b>Compiler Abstraction and Memory Mapping  </b></p>
<p>The  objects  (e.g.  variables,  functions,  constants)  are  declared  by  compiler  independent </p>
<p>definitions  –  the  compiler  abstraction  definitions.  Each  compiler  abstraction  definition  is </p>
<p>assigned to a memory section. </p>
<p>The  following  table  contains  the  memory  section  names  and  the  compiler  abstraction </p>
<p>definitions, defined for the CRC and illustrates their assignment among each other. </p>
<p><b>Compiler Abstraction</b></p>
<p><b>Definitions</b></p>
<p><b> </b></p>
<p> </p>
<p><b>Memory Mapping </b></p>
<p><b>Sections </b></p>
<p>CRC_CODE </p>
<p>CRC_PUBLIC_CONST </p>
<p>CRC_CONST </p>
<p>CRC_START_SEC_CONST_UNSPECIFIED </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>CRC_START_SEC_CONST_8BIT </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>CRC_START_SEC_CONST_16BIT </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>CRC_START_SEC_CONST_32BIT </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>CRC_START_SEC_CODE </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>Table 5-3   Compiler abstraction and memory mapping </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>13 / 24</p>
<p><b>6 </b></p>
<p><b>API Description </b></p>
<p><b>6.1 </b></p>
<p><b>Type Definitions </b></p>
<p>The types defined by the CRC are described in this chapter. </p>
<p><b>Type Name </b></p>
<p><b>C-Type </b></p>
<p><b>Description </b></p>
<p><b>Value Range </b></p>
<p>Crc_DataRefType </p>
<p>uint8 </p>
<p>Pointer type for pointers </p>
<p>to data buffers, from </p>
<p>which the CRC value is </p>
<p>to be calculated. </p>
<p>0-254   (uint8) </p>
<p> </p>
<p>Table 6-1   Type definitions </p>
<p><b> Std_VersionInfoType </b></p>
<p><b>Struct Element Name </b></p>
<p><b>C-Type </b></p>
<p><b>Description </b></p>
<p><b>Value Range </b></p>
<p>uint16 vendorID </p>
<p>uint8 moduleID </p>
<p>uint8 instanceID </p>
<p>uint8 sw_major_version </p>
<p>uint8 sw_minor_version </p>
<p>Std_VersionInfoType </p>
<p>struct </p>
<p>Returns the version </p>
<p>information. </p>
<p>uint8 sw_patch_version </p>
<p>Table 6-2   Std_VersionInfoType </p>
<p><b>6.2 </b></p>
<p><b>Interrupt Service Routines provided by CRC  </b></p>
<p>The CRC component has no interrupt service routine. </p>
<p><b>6.3 </b></p>
<p><b>Services provided by CRC </b></p>
<p>The CRC API consists of services, which are realized by function calls. </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>14 / 24</p>
<p><b>6.3.1 </b></p>
<p><b>Crc_CalculateCRC8 </b></p>
<p><b>Prototype </b></p>
<p>uint8 Crc_CalculateCRC8( const uint8* Crc_DataPtr, uint32 Crc_Length, uint8 </p>
<p>Crc_StartValue8 ) </p>
<p><b>Parameter </b></p>
<p>Crc_DataPtr </p>
<p>Pointer to start address of data block to be calculated. </p>
<p>Crc_Length </p>
<p>Length of data block to be calculated in bytes. </p>
<p>Crc_StartValue8 </p>
<p>Initial value when the algorithm starts. </p>
<p><b>Return code </b></p>
<p>uint8 </p>
<p>8 bit result of CRC calculation. </p>
<p><b>Functional Description </b></p>
<p>The function Crc_CalculateCRC8 (service id: 1) performs a CRC8 calculation on Crc_Length data bytes, </p>
<p>pointed to by Crc_DataPtr, with the starting value of Crc_StartValue8. The CRC8 routine is based on the </p>
<p>SAE-J1850 CRC8 Standard:  </p>
<p><b>SAE-J1850 CRC8 Standard  </b></p>
<p><b>value </b></p>
<p>CRC result width: </p>
<p>8bits </p>
<p>Polynomial: </p>
<p>1Dh </p>
<p>Initial value: </p>
<p>0h </p>
<p>Input data reflected: </p>
<p>No </p>
<p>Result data reflected: </p>
<p>No </p>
<p>XOR value: </p>
<p>00h </p>
<p>Check: </p>
<p>37h </p>
<p> </p>
<p><b>Particularities and Limitations </b></p>
<p></p>
<p> </p>
<p>If large data blocks have to be calculated (&gt;32 bytes), the table based calculation method should be </p>
<p>configured in order to decrease the calculation time. </p>
<p>Expected Caller Context </p>
<p></p>
<p> </p>
<p>Application, any module. </p>
<p>Table 6-3   Crc_CalculateCRC8 </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>15 / 24</p>
<p><b>6.3.2 </b></p>
<p><b>Crc_CalculateCRC16 </b></p>
<p><b>Prototype </b></p>
<p>uint16 Crc_CalculateCRC16( const uint8* Crc_DataPtr, uint32 Crc_Length, uint16 </p>
<p>Crc_StartValue16 ) </p>
<p><b>Parameter </b></p>
<p>Crc_DataPtr </p>
<p>Pointer to start address of data block to be calculated. </p>
<p>Crc_Length </p>
<p>Length of data block to be calculated in bytes. </p>
<p>Crc_StartValue16 </p>
<p>Initial value when the algorithm starts. </p>
<p><b>Return code </b></p>
<p>uint16 </p>
<p>16 bit result of CRC calculation. </p>
<p><b>Functional Description </b></p>
<p>The function Crc_CalculateCRC16 (service id: 2) performs a CRC16 calculation on Crc_Length data bytes, </p>
<p>pointed to by Crc_DataPtr, with the starting value of Crc_StartValue16. The CRC16 routine is based on the </p>
<p>CCITT CRC16 Standard:  </p>
<p><b>SAE-J1850 CRC8 Standard  </b></p>
<p><b>value </b></p>
<p>CRC result width: </p>
<p>16bits </p>
<p>Polynomial: </p>
<p>1021h </p>
<p>Initial value: </p>
<p>FFFFh </p>
<p>Input data reflected: </p>
<p>No </p>
<p>Result data reflected: </p>
<p>No </p>
<p>XOR value: </p>
<p>0000h </p>
<p>Check: </p>
<p>29B1h </p>
<p> </p>
<p><b>Particularities and Limitations </b></p>
<p></p>
<p> </p>
<p>If large data blocks have to be calculated (&gt;32 bytes), the table based calculation method should be </p>
<p>configured in order to decrease the calculation time. </p>
<p>Expected Caller Context </p>
<p></p>
<p> </p>
<p>Application, any module. </p>
<p>Table 6-4   Crc_CalculateCRC16 </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>16 / 24</p>
<p><b>6.3.3 </b></p>
<p><b>Crc_CalculateCRC32 </b></p>
<p><b>Prototype </b></p>
<p>uint32 Crc_CalculateCRC32( const uint8* Crc_DataPtr, uint32 Crc_Length, uint32 </p>
<p>Crc_StartValue32 ) </p>
<p><b>Parameter </b></p>
<p>Crc_DataPtr </p>
<p>Pointer to start address of data block to be calculated. </p>
<p>Crc_Length </p>
<p>Length of data block to be calculated in bytes. </p>
<p>Crc_StartValue32 </p>
<p>Initial value when the algorithm starts. </p>
<p><b>Return code </b></p>
<p>uint32 </p>
<p>32 bit result of CRC calculation. </p>
<p><b>Functional Description </b></p>
<p>The function Crc_CalculateCRC32 (service id: 3) performs a CRC32 calculation on Crc_Length data bytes, </p>
<p>pointed to by Crc_DataPtr, with the starting value of Crc_StartValue32. The CRC32 routine is based on the </p>
<p>IEEE-802.3 CRC32 Ethernet Standard:  </p>
<p><b>SAE-J1850 CRC8 Standard  </b></p>
<p><b>value </b></p>
<p>CRC result width: </p>
<p>32bits </p>
<p>Polynomial: </p>
<p>04C11DB7h </p>
<p>Initial value: </p>
<p>FFFFFFFFh </p>
<p>Input data reflected: </p>
<p>Yes </p>
<p>Result data reflected: </p>
<p>Yes </p>
<p>XOR value: </p>
<p>FFFFFFFFh </p>
<p>Check: </p>
<p>CBF43926h </p>
<p> </p>
<p><b>Particularities and Limitations </b></p>
<p></p>
<p> </p>
<p>If large data blocks have to be calculated (&gt;32 bytes), the table based calculation method should be </p>
<p>configured in order to decrease the calculation time. </p>
<p>Expected Caller Context </p>
<p></p>
<p> </p>
<p>Application, any module. </p>
<p>Table 6-5   Crc_CalculateCRC32 </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>17 / 24</p>
<p><b>6.3.4 </b></p>
<p><b>Crc_GetVersionInfo </b></p>
<p><b>Prototype </b></p>
<p>void Crc_GetVersionInfo( Std_VersionInfoType *versioninfo ) </p>
<p><b>Parameter </b></p>
<p>versioninfo </p>
<p>Pointer to where to store the version information of this module. </p>
<p><b>Return code </b></p>
<p>none </p>
<p>-- </p>
<p><b>Functional Description </b></p>
<p>This service returns the version information of the module. The version information includes:  </p>
<p></p>
<p> </p>
<p>Module Id  </p>
<p></p>
<p> </p>
<p>Vendor Id  </p>
<p></p>
<p> </p>
<p>Vendor specific version numbers.  </p>
<p></p>
<p> </p>
<p>InstanceId </p>
<p>This function is pre compile time configurable On/Off by the configuration parameter: </p>
<p>CRC_VERSION_INFO_API.</p>
<p> </p>
<p><b>Particularities and Limitations </b></p>
<p></p>
<p> </p>
<p>None </p>
<p>Expected Caller Context </p>
<p></p>
<p> </p>
<p>Application. </p>
<p>Table 6-6   Crc_GetVersionInfo </p>
<p><b>6.4 </b></p>
<p><b>Services used by CRC </b></p>
<p>The CRC component does not use services from other modules. Module CRC does not </p>
<p>provide any error detection mechanism </p>
<p><b>6.5 </b></p>
<p><b>Callback Functions </b></p>
<p>Module CRC’s functions do not provide any call-back functions. </p>
<p><b>6.6 </b></p>
<p><b>Configurable Interfaces </b></p>
<p><b>6.6.1 </b></p>
<p><b>Notifications </b></p>
<p>The CRC module does not provide notifications for upper layers. The CRC routines return </p>
<p>the checksum; this value will be evaluated by application or other modules.  </p>
<p><b>6.6.2 </b></p>
<p><b>Callout Functions </b></p>
<p>Further on the CRC module supports no callout function. </p>
<p><b>6.7 </b></p>
<p><b>Service Ports  </b></p>
<p>Service Ports are not available and necessary by this module. </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>18 / 24</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>19 / 24</p>
<p><b>7 </b></p>
<p><b>Configuration </b></p>
<p>In the CRC the attributes can be configured with the following methods: </p>
<p></p>
<p> </p>
<p>Configuration in EAD for a detailed description see 7.1 </p>
<p><b>7.1 </b></p>
<p><b>Configuration with EAD  </b></p>
<p>The CRC is configured with the help of the configuration tool EAD. </p>
<p> </p>
<p><b>Info</b> </p>
<p>In case of object delivery modifications are without effect, if a parameter is specified as a </p>
<p>pre-compile value. Different object code is needed for different settings. Other object </p>
<p>files can be obtained at Vector Informatik. </p>
<p> </p>
<p><b>7.1.1 </b></p>
<p><b>Start configuration of the CRC </b></p>
<p>The </p>
<p>component </p>
<p>name </p>
<p>of </p>
<p>the </p>
<p>Cyclic </p>
<p>Redundancy </p>
<p>Check </p>
<p>in </p>
<p>EAD </p>
<p>is </p>
<p>“Crc”. </p>
<p>In </p>
<p>the </p>
<p>“Architecture view” (initial page) of the EAD, the CRC can be opened by its context menu </p>
<p>to  start  its  configuration.  Optionally,  the  CRC  can  be  opened  for  configuration  with  the </p>
<p>component list under the “System” tab located at the left side of the EAD. </p>
<p><b>7.1.2 </b></p>
<p><b>CRC configuration tab </b></p>
<p><b>7.1.2.1 </b></p>
<p><b>General Settings </b></p>
<p>This tab describes the three different CRC routines and the available methods, which can </p>
<p>be used for the checksum. </p>
<p> </p>
<p>Figure 7-1 EAD Configuration – General Settings </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>20 / 24</p>
<p> </p>
<p><b>Attribute Name </b></p>
<p><b>Configuration </b></p>
<p><b>Variant </b></p>
<p><b>Value </b></p>
<p><b>Type </b></p>
<p><b>Values </b></p>
<p>The default value </p>
<p>is written in bold </p>
<p><b>Description </b></p>
<p>Select 8-Bit CRC </p>
<p>Calculation Method </p>
<p>pre-compile </p>
<p>uint8 </p>
<p>Table based </p>
<p><b>Runtime </b></p>
<p>Selection between “Table based” </p>
<p>calculation method and “Runtime” </p>
<p>calculation method to calculate the </p>
<p>CRC8. </p>
<p>Select 16-Bit CRC </p>
<p>Calculation Method </p>
<p>pre-compile </p>
<p>uint8 </p>
<p>Table based </p>
<p><b>Runtime </b></p>
<p>Selection between “Table based” </p>
<p>calculation method and “Runtime” </p>
<p>calculation method to calculate the </p>
<p>CRC16. </p>
<p>Select 32-Bit CRC </p>
<p>Calculation Method </p>
<p>pre-compile </p>
<p>uint8 </p>
<p>Table based </p>
<p><b>Runtime </b></p>
<p>Selection between “Table based” </p>
<p>calculation method and “Runtime” </p>
<p>calculation method to calculate the </p>
<p>CRC32. </p>
<p>Table 7-1   EAD Configuration – General Settings </p>
<p> </p>
<p><b>7.1.2.2 </b></p>
<p><b>Module API </b></p>
<p>In this Tab the provided APIs of the module are shown.  </p>
<p> </p>
<p>Figure 7-2 EAD Configuration – Module API </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>21 / 24</p>
<p>Additionally  parts  of  the  API  can  be  removed  to  optimize  the  module  towards  ROM </p>
<p>consumption: </p>
<p><b>Attribute Name </b></p>
<p><b>Configuration </b></p>
<p><b>Variant </b></p>
<p><b>Value </b></p>
<p><b>Type </b></p>
<p><b>Values </b></p>
<p>The default value </p>
<p>is written in bold </p>
<p><b>Description </b></p>
<p>Enable API service </p>
<p>Crc_GetVersionInfo() </p>
<p>pre-compile </p>
<p>uint8 </p>
<p>OFF </p>
<p><b>ON </b></p>
<p>This switch can be used to reduce </p>
<p>ROM consumption of module </p>
<p>CRC. If this switch is deactivated, </p>
<p>the code for the version </p>
<p>information API is omitted by the </p>
<p>compiler. </p>
<p>Table 7-2   EAD Configuration – Module API </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>22 / 24</p>
<p><b>8 </b></p>
<p><b>AUTOSAR Standard Compliance </b></p>
<p><b>8.1 </b></p>
<p><b>Deviations </b></p>
<p>No deviations exist. </p>
<p><b>8.2 </b></p>
<p><b>Additions/ Extensions </b></p>
<p>No extensions available. </p>
<p><b>8.3 </b></p>
<p><b>Limitations </b></p>
<p>No limitations exist. </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>23 / 24</p>
<p><b>9 </b></p>
<p><b>Glossary and Abbreviations </b></p>
<p><b>9.1 </b></p>
<p><b>Glossary </b></p>
<p><b>Term </b></p>
<p><b>Description </b></p>
<p>EAD </p>
<p>Embedded Architecture Designer; generation tool for MICROSAR </p>
<p>components </p>
<p>Table 9-1   Glossary </p>
<p> </p>
<p> </p>
<p><b>9.2 </b></p>
<p><b>Abbreviations </b></p>
<p><b>Abbreviation </b></p>
<p><b>Description </b></p>
<p>API </p>
<p>Application Programming Interface </p>
<p> </p>
<p>AUTOSAR </p>
<p>Automotive Open System Architecture </p>
<p>BSW </p>
<p>Basis Software </p>
<p>DEM </p>
<p>Diagnostic Event Manager </p>
<p>DET </p>
<p>Development Error Tracer </p>
<p>EAD </p>
<p>Embedded Architecture Designer </p>
<p>ECU </p>
<p>Electronic Control Unit </p>
<p>HIS </p>
<p>Hersteller Initiative Software </p>
<p>ISR </p>
<p>Interrupt Service Routine </p>
<p>MICROSAR </p>
<p>Microcontroller Open System Architecture (the Vector AUTOSAR </p>
<p>solution) </p>
<p>PPort </p>
<p>Provide Port </p>
<p>RPort </p>
<p>Require Port </p>
<p>RTE </p>
<p>Runtime Environment </p>
<p>SRS </p>
<p>Software Requirement Specification </p>
<p>SWC </p>
<p>Software Component </p>
<p>SWS </p>
<p>Software Specification </p>
<p>CRC </p>
<p>Cyclic Redundancy Check </p>
<p>Table 9-2   Abbreviations </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR CRC  </p>
<p> </p>
<p>©</p>
<p>2008, Vector Informatik GmbH </p>
<p>Version: 4.00.00 </p>
<p>based on template version 3.2 </p>
<p>24 / 24</p>
<p><b>10 Contact </b></p>
<p>Visit our website for more information on </p>
<p> </p>
<p>&gt;   News </p>
<p>&gt;   Products </p>
<p>&gt;   Demo software </p>
<p>&gt;   Support </p>
<p>&gt;   Training data </p>
<p>&gt;   Addresses </p>
<p> </p>
<p><b>www.vector-informatik.com </b></p>
<p> </p>
<p> </p>
<p> </p>
</body>
</html>
{% endraw %}